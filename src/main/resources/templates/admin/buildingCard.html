<!DOCTYPE html>
<html
        lang="ru"
        class="light-style layout-navbar-fixed layout-menu-fixed"
        dir="ltr"
        data-theme="theme-default"
        data-assets-path="../../assets/"
        data-template="vertical-menu-template-starter"
        xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="utf-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>Новострой номер </title>

    <meta name="description" content=""/>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../assets/img/favicon/favicon.ico"/>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
            rel="stylesheet"
    />

    <!-- Icons -->
    <link rel="stylesheet" href="../../assets/vendor/fonts/fontawesome.css"/>
    <link rel="stylesheet" href="../../assets/vendor/fonts/tabler-icons.css"/>
    <link rel="stylesheet" href="../../assets/vendor/fonts/flag-icons.css"/>

    <!-- Core CSS -->
    <link rel="stylesheet" href="../../assets/vendor/css/rtl/core.css" class="template-customizer-core-css"/>
    <link rel="stylesheet" href="../../assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css"/>
    <link rel="stylesheet" href="../../assets/css/demo.css"/>

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/node-waves/node-waves.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/typeahead-js/typeahead.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/flatpickr/flatpickr.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/select2/select2.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/animate-css/animate.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/sweetalert2/sweetalert2.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/quill/typography.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/quill/katex.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/quill/editor.css"/>

    <!-- Form Validation -->
    <link rel="stylesheet" href="../../assets/vendor/libs/formvalidation/dist/css/formValidation.min.css"/>

    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="../../assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
    <script src="../../assets/vendor/js/template-customizer.js"></script>
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="../../assets/js/config.js"></script>
</head>
<body>
<!-- Layout wrapper -->
<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">
        <!-- Menu -->

        <aside th:replace="~{fragments :: menu}"></aside>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
            <!-- Navbar -->

            <nav th:replace="~{fragments :: navbar}"></nav>
            <!-- / Navbar -->
            <hr class="my-5"/>

            <!-- Content wrapper -->
            <div class="content-wrapper">
                <!-- Content -->

                <div class="container-xxl flex-grow-1 container-p-y">
                    <h4 class="fw-bold py-3 mb-4" th:text="${building.name}">
                        <span class="text-muted fw-light">Редактирование новостроя</span>
                    </h4>

                    <div class="nav-align-top mb-4">
                        <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link active"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#basic"
                                        aria-controls="basic"
                                        aria-selected="true">
                                    Основное
                                </button>
                            </li>
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#about-project"
                                        aria-controls="about-project"
                                        aria-selected="false"
                                >
                                    О проекте
                                </button>
                            </li>
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#location"
                                        aria-controls="location"
                                        aria-selected="false"
                                >
                                    Месторасположение
                                </button>
                            </li>
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#infrastructure"
                                        aria-controls="infrastructure"
                                        aria-selected="false"
                                >
                                    Инфраструктура
                                </button>
                            </li>
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#rooms"
                                        aria-controls="rooms"
                                        aria-selected="false"
                                >
                                    Квартиры
                                </button>
                            </li>
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#panorama"
                                        aria-controls="panorama"
                                        aria-selected="false"
                                >
                                    Панорама
                                </button>
                            </li>
                            <li class="nav-item">
                                <button
                                        type="button"
                                        class="nav-link"
                                        role="tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#specification"
                                        aria-controls="specification"
                                        aria-selected="false"
                                >
                                    Спецификация
                                </button>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="basic" role="tabpanel">
                                <form action="/buildings/edit-basic/{id}" method="post" enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <label style="visibility: hidden">
                                            <input type="text" name="buildingId" th:value="${building.id}"/>
                                        </label>
                                        <div class="row">
                                            <div class="col-md-6 col-lg-6">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.mainBanner}"
                                                             th:alt="${building.mainBanner}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="mainBanner"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl">
                                                <div class="card mb-4">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="mb-3 col-md-4">
                                                                <label class="form-label">Название</label>
                                                                <input

                                                                        class="form-control"
                                                                        type="text"
                                                                        th:value="${building.name}"
                                                                        name="buildingName"
                                                                        placeholder="Название"
                                                                        autofocus
                                                                />
                                                            </div>
                                                            <div class="mb-3 col-md-4">
                                                                <label class="form-label">Порядок сортировки</label>
                                                                <input
                                                                        class="form-control"
                                                                        type="text"
                                                                        name=""
                                                                        placeholder="Порядок сортировки"
                                                                        autofocus
                                                                />
                                                            </div>
                                                            <div class="mb-3 col-md-4">
                                                                <label class="form-label"></label>
                                                                <div class="form-check mb-4">
                                                                    <label class="form-check-label"
                                                                    >Активен
                                                                        <input class="form-check-input"
                                                                               type="checkbox"
                                                                               name="statusBuilding"
                                                                               value="true"
                                                                               th:checked="${building.statusBuilding.toString() == 'Активен'} ? 'true' : 'false'"
                                                                        />
                                                                    </label>
                                                                </div>

                                                            </div>
                                                            <div class="mb-3 column">
                                                                <label class="form-label">Адрес</label>
                                                                <input
                                                                        class="form-control"
                                                                        type="text"
                                                                        name="address"
                                                                        placeholder="Адрес"
                                                                        th:value="${building.address}"
                                                                />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--List Infografic-->
                                        <!-- Multi Column with Form Separator -->
                                        <div class="col-12">
                                            <div class="card">
                                                <h5 class="card-header">Инфографика</h5>
                                                <div class="card-body">
                                                    <div class="form-repeater">
                                                        <div data-repeater-list="InfographicBuildingPage">
                                                            <div data-repeater-item>
                                                                <div class="row">
                                                                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                        <label class="form-label"></label>
                                                                        <input class="form-control" type="file"
                                                                               name="imagesInfographic[]" multiple/>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                        <label class="form-label"></label>
                                                                        <input type="text" class="form-control"
                                                                               placeholder="Описание"
                                                                               name="descriptionImageInfographic[]" multiple/>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                                        <button class="btn btn-label-danger mt-4"
                                                                                data-repeater-delete type="button">
                                                                            <i class="ti ti-x ti-xs me-1"></i>
                                                                            <span class="align-middle">Delete</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <hr/>
                                                            </div>
                                                        </div>
                                                        <div class="mb-0">
                                                            <button class="btn btn-primary" data-repeater-create
                                                                    type="button">
                                                                <i class="ti ti-plus me-1"></i>
                                                                <span class="align-middle">Add</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <script>
                                            let items = [];
                                            let nextId = 1;
                                            const btnAdd = document.querySelector('[data-repeater-create]');

                                            function addNewItem() {
                                                let itemHtml = `
                                                    <div data-repeater-item data-id="${nextId}">
                                                        <div class="row">
                                                            <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                <label class="form-label"></label>
                                                                <input class="form-control" type="file"
                                                                 name="imagesInfographic[]" multiple/>
                                                            </div>
                                                            <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                <label class="form-label"></label>
                                                                <input type="text" class="form-control" placeholder="Описание"
                                                                name="descriptionImageInfographic[]" multiple/>
                                                            </div>
                                                            <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                                <button class="btn btn-label-danger mt-4" data-repeater-delete type="button">
                                                                    <i class="ti ti-x ti-xs me-1"></i>
                                                                    <span class="align-middle">Delete</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <hr />
                                                    </div>
                                                `;

                                                document.querySelector('[data-repeater-list]').insertAdjacentHTML('beforeend', itemHtml);

                                                const newItem = {
                                                    id: nextId++,
                                                    image: '',
                                                    description: ''
                                                };
                                                items.push(newItem);
                                                addDeleteHandler();
                                            }

                                            function addDeleteHandler() {
                                                const deleteBtns = document.querySelectorAll('[data-repeater-delete]');
                                                deleteBtns.forEach(btn => {
                                                    btn.addEventListener('click', handleDelete);
                                                });
                                            }

                                            function handleDelete() {
                                                const itemBlock = this.closest('[data-repeater-item]');

                                                const itemIndex = items.findIndex(item => {
                                                    return item.id === parseInt(itemBlock.dataset.id);
                                                });
                                                items.splice(itemIndex, 1);
                                                itemBlock.remove();
                                                addDeleteHandler();
                                            }

                                            btnAdd.addEventListener('click', addNewItem);
                                        </script>

                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="about-project" role="tabpanel">
                                <form action="/buildings/edit-about-project/{id}" method="post"
                                      enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <!--Фото и основные данные-->
                                        <label style="visibility: hidden">
                                            <input type="text" name="buildingId" th:value="${building.id}"/>
                                        </label>
                                        <div class="row mb-5">
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.urlSlide1}"
                                                             th:alt="${building.urlSlide1}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide1"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>



                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.urlSlide2}"
                                                             th:alt="${building.urlSlide2}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide2"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.urlSlide3}"
                                                             th:alt="${building.urlSlide3}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide3"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--List Infografic-->
                                        <!-- Multi Column with Form Separator -->
                                        <div class="col-12">
                                            <div class="card mb-4">
                                                <div class="card-body">
                                                    <div id="bubble-toolbar-about-project">
                                                        <span class="ql-formats">
                                                          <select class="ql-font"></select>
                                                          <select class="ql-size"></select>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-bold"></button>
                                                          <button class="ql-italic"></button>
                                                          <button class="ql-underline"></button>
                                                          <button class="ql-strike"></button>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <select class="ql-color"></select>
                                                          <select class="ql-background"></select>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-script" value="sub"></button>
                                                          <button class="ql-script" value="super"></button>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-header" value="1"></button>
                                                          <button class="ql-header" value="2"></button>
                                                          <button class="ql-blockquote"></button>
                                                          <button class="ql-code-block"></button>
                                                        </span>
                                                    </div>
                                                    <input
                                                            type="hidden"
                                                            id="editor-data-about-project"
                                                            name="editorDataAboutProject">
                                                    <div id="bubble-editor-about-project">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="location" role="tabpanel">
                                <form action="/buildings/edit-location/{id}" method="post"
                                      enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <!--Фото и основные данные-->
                                        <label style="visibility: hidden">
                                            <input type="hidden" name="buildingId" th:value="${building.id}"/>
                                        </label>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card mb-">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="mb-3 col-md-4">
                                                                <label class="form-label">Долгота</label>
                                                                <input

                                                                        class="form-control"
                                                                        type="text"
                                                                        th:value="${building.longitude}"
                                                                        name="LocationLongitudeBuilding"
                                                                        placeholder="Координаты"
                                                                        autofocus
                                                                />
                                                            </div>
                                                            <div class="mb-3 col-md-4">
                                                                <label class="form-label">Широта</label>
                                                                <input
                                                                        class="form-control"
                                                                        type="text"
                                                                        name="LocationLatitudeBuilding"
                                                                        th:value="${building.latitude}"
                                                                        placeholder="Координаты"
                                                                        autofocus
                                                                />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--List Infografic-->
                                    <!-- Multi Column with Form Separator -->
                                    <div class="col-12">
                                        <div class="card mb-4">
                                            <div class="card-body">
                                                <div id="bubble-toolbar-location-building">
                                                        <span class="ql-formats">
                                                          <select class="ql-font"></select>
                                                          <select class="ql-size"></select>
                                                        </span>
                                                    <span class="ql-formats">
                                                          <button class="ql-bold"></button>
                                                          <button class="ql-italic"></button>
                                                          <button class="ql-underline"></button>
                                                          <button class="ql-strike"></button>
                                                        </span>
                                                    <span class="ql-formats">
                                                          <select class="ql-color"></select>
                                                          <select class="ql-background"></select>
                                                        </span>
                                                    <span class="ql-formats">
                                                          <button class="ql-script" value="sub"></button>
                                                          <button class="ql-script" value="super"></button>
                                                        </span>
                                                    <span class="ql-formats">
                                                          <button class="ql-header" value="1"></button>
                                                          <button class="ql-header" value="2"></button>
                                                          <button class="ql-blockquote"></button>
                                                          <button class="ql-code-block"></button>
                                                        </span>
                                                </div>
                                                <div id="bubble-editor-location-building">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="infrastructure" role="tabpanel">
                                <form action="/buildings/edit-infrastructure-building/{id}" method="post"
                                      enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <!--Фото и основные данные-->
                                        <label style="visibility: hidden">
                                            <input type="text" name="buildingId" th:value="${building.id}"/>
                                        </label>
                                        <div class="row mb-5">
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.infrastructureBuilding.urlSlide1}"
                                                             th:alt="${building.infrastructureBuilding.urlSlide1}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide1"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.infrastructureBuilding.urlSlide2}"
                                                             th:alt="${building.infrastructureBuilding.urlSlide2}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide2"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.infrastructureBuilding.urlSlide3}"
                                                             th:alt="${building.infrastructureBuilding.urlSlide3}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide3"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--List Infografic-->
                                        <!-- Multi Column with Form Separator -->

                                        <div class="col-12">
                                            <div class="card mb-4">
                                                <div class="card-body">
                                                    <div id="bubble-toolbar-infrastructure-building">
                                                        <span class="ql-formats">
                                                          <select class="ql-font"></select>
                                                          <select class="ql-size"></select>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-bold"></button>
                                                          <button class="ql-italic"></button>
                                                          <button class="ql-underline"></button>
                                                          <button class="ql-strike"></button>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <select class="ql-color"></select>
                                                          <select class="ql-background"></select>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-script" value="sub"></button>
                                                          <button class="ql-script" value="super"></button>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-header" value="1"></button>
                                                          <button class="ql-header" value="2"></button>
                                                          <button class="ql-blockquote"></button>
                                                          <button class="ql-code-block"></button>
                                                        </span>
                                                    </div>
                                                    <input
                                                            type="hidden"
                                                            id="editor-data-infrastructure-building"
                                                            name="editorDataInfrastructureBuilding">
                                                    <div id="bubble-editor-infrastructure-building" th:text="${building.infrastructureBuilding.text}">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--List Infografic-->
                                        <!-- Multi Column with Form Separator -->
                                        <div class="col-12">
                                            <div class="card">
                                                <h5 class="card-header">Инфографика</h5>
                                                <div class="card-body">
                                                    <div class="form-repeater">
                                                        <div data-repeater-list-infrastructure-building>
                                                            <div data-repeater-item-infrastructure-building>
                                                                <div class="row">
                                                                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                        <label class="form-label"></label>
                                                                        <input class="form-control" type="file"
                                                                               name="imagesInfographicInfrastructure[]" multiple/>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                        <label class="form-label"></label>
                                                                        <input type="text" class="form-control"
                                                                               placeholder="Описание"
                                                                               name="descriptionImageInfographicInfrastructure[]" multiple/>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                                        <button class="btn btn-label-danger mt-4"
                                                                                data-repeater-delete-infrastructure-building type="button">
                                                                            <i class="ti ti-x ti-xs me-1"></i>
                                                                            <span class="align-middle">Delete</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <hr/>
                                                            </div>
                                                        </div>
                                                        <div class="mb-0">
                                                            <button class="btn btn-primary" data-repeater-create-infrastructure-building
                                                                    type="button">
                                                                <i class="ti ti-plus me-1"></i>
                                                                <span class="align-middle">Add</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <script>
                                            let itemsInfrastructure = []; // Массив для хранения данных каждого элемента в участке "Infographic Infrastructure"
                                            let nextIdInfrastructure = 1; // Идентификатор для следующего элемента в участке "Infographic Infrastructure"
                                            const btnAddInfrastructure = document.querySelector('[data-repeater-create-infrastructure-building]'); // Кнопка добавления нового элемента в участке "Infographic Infrastructure"

                                            function addNewItemInfrastructure() {
                                                let itemHtmlInfrastructure = `
                                                    <div data-repeater-item-infrastructure-building data-id="${nextIdInfrastructure}">
                                                        <div class="row">
                                                           <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                               <label class="form-label"
                                                                      for="form-repeater-1-1"></label>
                                                               <input class="form-control" type="file"
                                                                      name="imagesInfographicInfrastructure[]" multiple/>
                                                           </div>
                                                           <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                               <label class="form-label"
                                                                      for="form-repeater-1-2"></label>
                                                               <input type="text" class="form-control"
                                                                      placeholder="Описание"
                                                                      name="descriptionImageInfographicInfrastructure[]" multiple/>
                                                           </div>
                                                           <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                               <button class="btn btn-label-danger mt-4"
                                                                       data-repeater-delete-infrastructure-building type="button">
                                                                   <i class="ti ti-x ti-xs me-1"></i>
                                                                   <span class="align-middle">Delete</span>
                                                               </button>
                                                           </div>
                                                        </div>
                                                        <hr/>
                                                    </div>
                                                `;

                                                // Вставка HTML-разметки нового элемента в конец списка элементов в участке "Infographic Infrastructure"
                                                document.querySelector('[data-repeater-list-infrastructure-building]').insertAdjacentHTML('beforeend', itemHtmlInfrastructure);

                                                const newItemInfrastructure = {
                                                    id: nextIdInfrastructure++,
                                                    // Дополнительные свойства элемента в участке "Infographic Infrastructure"
                                                };
                                                itemsInfrastructure.push(newItemInfrastructure);
                                                addDeleteHandlerInfrastructure();
                                            }

                                            function addDeleteHandlerInfrastructure() {
                                                const deleteBtnsInfrastructure = document.querySelectorAll('[data-repeater-delete-infrastructure-building]');
                                                deleteBtnsInfrastructure.forEach(btn => {
                                                    btn.addEventListener('click', handleDeleteInfrastructure);
                                                });
                                            }

                                            function handleDeleteInfrastructure() {
                                                const itemBlockInfrastructure = this.closest('[data-repeater-item-infrastructure-building]');

                                                const itemIndexInfrastructure = itemsInfrastructure.findIndex(item => {
                                                    return item.id === parseInt(itemBlockInfrastructure.dataset.id);
                                                });
                                                itemsInfrastructure.splice(itemIndexInfrastructure, 1);
                                                itemBlockInfrastructure.remove();
                                                addDeleteHandlerInfrastructure();
                                            }

                                            btnAddInfrastructure.addEventListener('click', addNewItemInfrastructure);
                                        </script>
                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="rooms" role="tabpanel">
                                <form action="/buildings/edit-rooms-building/{id}" method="post"
                                      enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <!--Фото и основные данные-->
                                        <label style="visibility: hidden">
                                            <input type="hidden" name="buildingId" th:value="${building.id}"/>
                                        </label>
                                        <div class="row mb-5">
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.roomBuilding.urlSlide1}"
                                                             th:alt="${building.roomBuilding.urlSlide1}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide1"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.roomBuilding.urlSlide2}"
                                                             th:alt="${building.roomBuilding.urlSlide2}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide2"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 col-lg-4">
                                                <div class="card text-center mb-3">
                                                    <div class="card-body">
                                                        <img th:src="${building.roomBuilding.urlSlide3}"
                                                             th:alt="${building.roomBuilding.urlSlide3}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="urlSlide3"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--List Infografic-->
                                        <!-- Multi Column with Form Separator -->

                                        <div class="col-12">
                                            <div class="card mb-4">
                                                <div class="card-body">
                                                    <div id="bubble-toolbar-room-building">
                                                        <span class="ql-formats">
                                                          <select class="ql-font"></select>
                                                          <select class="ql-size"></select>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-bold"></button>
                                                          <button class="ql-italic"></button>
                                                          <button class="ql-underline"></button>
                                                          <button class="ql-strike"></button>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <select class="ql-color"></select>
                                                          <select class="ql-background"></select>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-script" value="sub"></button>
                                                          <button class="ql-script" value="super"></button>
                                                        </span>
                                                        <span class="ql-formats">
                                                          <button class="ql-header" value="1"></button>
                                                          <button class="ql-header" value="2"></button>
                                                          <button class="ql-blockquote"></button>
                                                          <button class="ql-code-block"></button>
                                                        </span>
                                                    </div>
                                                    <input
                                                            type="hidden"
                                                            id="editor-data-room-building"
                                                            name="editorDataInfrastructureBuilding">
                                                    <div id="bubble-editor-room-building" th:text="${building.roomBuilding.text}">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--List Infografic-->
                                        <!-- Multi Column with Form Separator -->
                                        <div class="col-12">
                                            <div class="card">
                                                <h5 class="card-header">Инфографика</h5>
                                                <div class="card-body">
                                                    <div class="form-repeater">
                                                        <div data-repeater-list-room-infographic>
                                                            <div data-repeater-item-room-infographic>
                                                                <div class="row">
                                                                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                        <label class="form-label"></label>
                                                                        <input class="form-control" type="file"
                                                                               name="imagesRoomInfographic[]" multiple/>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                                        <label class="form-label"></label>
                                                                        <input type="text" class="form-control"
                                                                               placeholder="Описание"
                                                                               name="descriptionImageRoomInfographic[]" multiple/>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                                        <button class="btn btn-label-danger mt-4"
                                                                                data-repeater-delete-room-building type="button">
                                                                            <i class="ti ti-x ti-xs me-1"></i>
                                                                            <span class="align-middle">Delete</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <hr/>
                                                            </div>
                                                        </div>
                                                        <div class="mb-0">
                                                            <button class="btn btn-primary"
                                                                    data-repeater-create-room-infographic
                                                                    type="button">
                                                                <i class="ti ti-plus me-1"></i>
                                                                <span class="align-middle">Add</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <script>
                                            let itemsRoom = [];
                                            let nextIdRoom = 1;
                                            const btnAddRoom = document.querySelector('[data-repeater-create-room-infographic]');

                                            function addNewItemRoom() {
                                                let itemHtmlRoom = `
                                                    <div data-repeater-item-room-infographic data-id="${nextIdRoom}">
                                                        <div class="row">
                                                           <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                               <label class="form-label"
                                                                      for="form-repeater-1-1"></label>
                                                               <input class="form-control" type="file"
                                                                      name="imagesRoomInfographic[]" multiple/>
                                                           </div>
                                                           <div class="mb-3 col-lg-6 col-xl-3 col-12 mb-0">
                                                               <label class="form-label"
                                                                      for="form-repeater-1-2"></label>
                                                               <input type="text" class="form-control"
                                                                      placeholder="Описание"
                                                                      name="descriptionImageRoomInfographic[]" multiple/>
                                                           </div>
                                                           <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                               <button class="btn btn-label-danger mt-4"
                                                                       data-repeater-delete-room-infographic type="button">
                                                                   <i class="ti ti-x ti-xs me-1"></i>
                                                                   <span class="align-middle">Delete</span>
                                                               </button>
                                                           </div>
                                                        </div>
                                                        <hr/>
                                                    </div>
                                                `;


                                                document.querySelector('[data-repeater-list-room-infographic]').insertAdjacentHTML('beforeend', itemHtmlRoom);

                                                const newItemRoom = {
                                                    id: nextIdRoom++,
                                                };
                                                itemsRoom.push(newItemRoom);
                                                addDeleteHandlerRoom();
                                            }

                                            function addDeleteHandlerRoom() {
                                                const deleteBtnsRoom = document.querySelectorAll('[data-repeater-delete-room-infographic]');
                                                deleteBtnsRoom.forEach(btn => {
                                                    btn.addEventListener('click', handleDeleteRoom);
                                                });
                                            }

                                            function handleDeleteRoom() {
                                                const itemBlockRoom = this.closest('[data-repeater-item-room-infographic]');

                                                const itemIndexRoom = itemsRoom.findIndex(item => {
                                                    return item.id === parseInt(itemBlockRoom.dataset.id);
                                                });
                                                itemsRoom.splice(itemIndexRoom, 1);
                                                itemBlockRoom.remove();
                                                addDeleteHandlerRoom();
                                            }

                                            btnAddRoom.addEventListener('click', addNewItemRoom);
                                        </script>

                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="panorama" role="tabpanel">
                                <form action="/buildings/edit-panorama/{id}" method="post"
                                      enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <!--Фото и основные данные-->
                                        <label style="visibility: hidden">
                                            <input type="text" name="buildingId" th:value="${building.id}"/>
                                        </label>
                                        <div class="row">
                                            <div class="col-12 flex justify-content-start">
                                                <div class="card text-center mb-3 flex justify-content-start">
                                                    <div class="card-body flex justify-content-start">
                                                        <img th:src="${building.mainBanner}"
                                                             th:alt="${building.mainBanner}"
                                                             style="max-width: 250px;
                                                             max-height: 200px;">
                                                        <hr/>
                                                        <label class="form-label">
                                                            <input
                                                                    type="file"
                                                                    name="mainBanner"
                                                                    class="form-control"
                                                                    accept="image/png, image/jpeg"/>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane fade" id="specification" role="tabpanel">
                                <form action="/buildings/edit-specification/{id}" method="post"
                                      enctype="multipart/form-data">
                                    <div class="container-xxl flex-grow-1 container-p-y">
                                        <!--Фото и основные данные-->
                                        <label style="visibility: hidden">
                                            <input type="text" name="buildingId" th:value="${building.id}"/>
                                        </label>

                                        <div class="col-12">
                                            <div class="card">
                                                <h5 class="card-header">Инфографика</h5>
                                                <div class="card-body">
                                                    <div class="form-repeater">
                                                        <div data-repeater-list-specification-building>
                                                            <div data-repeater-item-specification-building>
                                                                <div class="row">
                                                                    <div class="card">
                                                                        <h5 class="card-header">Full Editor</h5>
                                                                        <div class="card-body">
                                                                            <div id="full-editor">
                                                                                <h6>Quill Rich Text Editor</h6>
                                                                                <p>
                                                                                    Cupcake ipsum dolor sit amet. Halvah
                                                                                    cheesecake chocolate bar gummi bears
                                                                                    cupcake. Pie
                                                                                    macaroon bear claw. Soufflé I love candy
                                                                                    canes I love cotton candy I love.
                                                                                </p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                                        <button class="btn btn-label-danger mt-4"
                                                                                data-repeater-delete-specification-building type="button">
                                                                            <i class="ti ti-x ti-xs me-1"></i>
                                                                            <span class="align-middle">Delete</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <hr/>
                                                            </div>
                                                        </div>
                                                        <div class="mb-0">
                                                            <button class="btn btn-primary"
                                                                    data-repeater-create-specification-building
                                                                    type="button">
                                                                <i class="ti ti-plus me-1"></i>
                                                                <span class="align-middle">Add</span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>



                                        <script>
                                            let itemsSpecification = [];
                                            let nextIdSpecification = 1;
                                            const btnAddSpecification = document.querySelector('[data-repeater-create-specification-building]');

                                            function addNewItemSpecification() {
                                                let itemHtmlSpecification = `
                                              
                                                    <div data-repeater-item-specification-building data-id="${nextIdSpecification}">
                                                        <div class="card">
                                                            <h5 class="card-header">Full Editor</h5>
                                                            <div class="card-body">
                                                                <div id="full-editor-specification-building">
                                                                    <h6>Quill Rich Text Editor</h6>
                                                                    <p>
                                                                        Cupcake ipsum dolor sit amet. Halvah
                                                                        cheesecake chocolate bar gummi bears
                                                                        cupcake. Pie
                                                                        macaroon bear claw. Soufflé I love candy
                                                                        canes I love cotton candy I love.
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="mb-3 col-lg-12 col-xl-2 col-12 d-flex align-items-center mb-0">
                                                            <button class="btn btn-label-danger mt-4"
                                                                    data-repeater-delete-specification-building type="button">
                                                                <i class="ti ti-x ti-xs me-1"></i>
                                                                <span class="align-middle">Delete</span>
                                                            </button>
                                                        </div>
                                                    </div>`;


                                                document.querySelector('[data-repeater-list-specification-building]').insertAdjacentHTML('beforeend', itemHtmlSpecification);

                                                const newItemSpecification = {
                                                    id: nextIdSpecification++,
                                                };
                                                itemsRoom.push(newItemSpecification);
                                                addDeleteHandlerSpecification();
                                            }

                                            function addDeleteHandlerSpecification() {
                                                const deleteBtnsSpecification = document.querySelectorAll('[data-repeater-delete-specification-building]');
                                                deleteBtnsSpecification.forEach(btn => {
                                                    btn.addEventListener('click', handleDeleteSpecification);
                                                });
                                            }

                                            function handleDeleteSpecification() {
                                                const itemBlockSpecification = this.closest('[data-repeater-item-specification-building]');

                                                const itemIndexSpecification = itemsSpecification.findIndex(item => {
                                                    return item.id === parseInt(itemBlockSpecification.dataset.id);
                                                });
                                                itemsSpecification.splice(itemIndexSpecification, 1);
                                                itemBlockSpecification.remove();
                                                addDeleteHandlerSpecification();
                                            }

                                            btnAddSpecification.addEventListener('click', addNewItemSpecification);
                                        </script>
                                    </div>
                                    <div class="mt-2 d-flex justify-content-end mx-4">
                                        <button type="reset" class="btn btn-label-secondary">Cancel</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>


                <hr class="my-5"/>

            </div>
            <!-- / Content -->

            <!-- Footer -->
            <footer class="content-footer footer bg-footer-theme">
                <div class="container-xxl">
                    <div
                            class="footer-container d-flex align-items-center justify-content-between py-2 flex-md-row flex-column"
                    >
                        <div>
                            ©
                            <script>
                                document.write(new Date().getFullYear());
                            </script>
                            , Разработано SpaceLab
                        </div>
                        <div>
                            <a href="https://themeforest.net/licenses/standard" class="footer-link me-4"
                               target="_blank"
                            >License</a
                            >
                            <a href="https://1.envato.market/pixinvent_portfolio" target="_blank"
                               class="footer-link me-4"
                            >More Themes</a
                            >

                            <a
                                    href="https://pixinvent.com/demo/vuexy-html-bootstrap-admin-template/documentation/"
                                    target="_blank"
                                    class="footer-link me-4"
                            >Documentation</a
                            >

                            <a href="https://pixinvent.ticksy.com/" target="_blank"
                               class="footer-link d-none d-sm-inline-block"
                            >Support</a
                            >
                        </div>
                    </div>
                </div>
            </footer>
            <!-- / Footer -->

            <div class="content-backdrop fade"></div>
        </div>
        <!-- Content wrapper -->
    </div>
    <!-- / Layout page -->
</div>

<!-- Overlay -->
<div class="layout-overlay layout-menu-toggle"></div>

<!-- Drag Target Area To SlideIn Menu On Small Screens -->
<div class="drag-target"></div>
</div>
<!-- / Layout wrapper -->

<!-- Core JS -->
<!-- build:js assets/vendor/js/core.js -->
<script src="../../assets/vendor/libs/jquery/jquery.js"></script>
<script src="../../assets/vendor/libs/popper/popper.js"></script>
<script src="../../assets/vendor/js/bootstrap.js"></script>
<script src="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
<script src="../../assets/vendor/libs/node-waves/node-waves.js"></script>

<script src="../../assets/vendor/libs/hammer/hammer.js"></script>
<script src="../../assets/vendor/libs/i18n/i18n.js"></script>
<script src="../../assets/vendor/libs/typeahead-js/typeahead.js"></script>

<script src="../../assets/vendor/js/menu.js"></script>
<!-- endbuild -->

<!-- Vendors JS -->
<script src="../../assets/vendor/libs/autosize/autosize.js"></script>
<script src="../../assets/vendor/libs/cleavejs/cleave.js"></script>
<script src="../../assets/vendor/libs/cleavejs/cleave-phone.js"></script>
<script src="../../assets/vendor/libs/bootstrap-maxlength/bootstrap-maxlength.js"></script>

<script src="../../assets/vendor/libs/select2/select2.js"></script>
<script src="../../assets/vendor/libs/formvalidation/dist/js/FormValidation.min.js"></script>
<script src="../../assets/vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js"></script>
<script src="../../assets/vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js"></script>
<script src="../../assets/vendor/libs/sweetalert2/sweetalert2.js"></script>
<script src="../../assets/vendor/libs/quill/katex.js"></script>
<script src="../../assets/vendor/libs/quill/quill.js"></script>

<!-- Main JS -->
<script src="../../assets/js/main.js"></script>


<!-- Page JS -->
<script src="../../assets/js/pages-account-settings-account.js"></script>
<script src="../../assets/js/forms-extras.js"></script>
<script src="../../assets/js/forms-editors.js"></script>
</body>
</html>